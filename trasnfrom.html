<!doctype html><html lang="zh-CN" class="night"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=4,user-scalable=0" name="viewport"><title>Edeity&#39;s Blog</title><meta name="description" content="Try to be a qualified programmer"><meta property="og:type" content="website"><meta property="og:description" content="Try to be a qualified programmer"><meta property="og:title" content="Edeity&#39;s Blog"><meta property="og:site_name" content="Edeity&#39;s Blog"><meta property="og:url" content="https://blog.edeity.me"><meta property="og:image" content="https://edeity.oss-cn-shenzhen.aliyuncs.com/public/edeity_o.png"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="mainfest" href="/mainfest.json"><link rel="stylesheet" href="/public/css/common.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_707055_4b9og9sc5lx.css"><script>!function(){var e=-1!==window.location.search.indexOf("theme=night")||"night"===window.localStorage.getItem("edeity-theme_theme"),t=-1!==window.location.search.indexOf("theme=light")||"light"===window.localStorage.getItem("edeity-theme_theme");(new Date).getHours();var n=document.querySelector("html");e?n.classList.add("night"):t?n.classList.remove("night"):n.classList.add("night")}(),document.addEventListener("DOMContentLoaded",function(){null!==document.querySelector("ol.toc")&&(document.querySelector("#nav-bar").style.cssText="display: block")})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-M3J9QSEE2Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-M3J9QSEE2Z")</script><meta name="generator" content="Hexo 5.0.0"></head><body><div class="loading"></div><div id="switch" data-switch="{&#34;toc&#34;:true,&#34;use_pwa&#34;:false}"></div><header class="fullscreen"><div class="toolbar"><i class="iconfont icon-menu"></i></div><h1><a href="/">Edeity&#39;s Blog</a></h1><div class="head-link"><a class="btn waves" href="/"><span><i class="iconfont icon-home">Home </i></span></a><a class="btn waves" href="/about/index.html"><span><i class="iconfont icon-me">About </i></span></a><a class="btn waves" target="_blank" rel="noopener" href="https://github.com/edeity"><span><i class="iconfont icon-github">Github</i></span></a></div></header><div class="some-link"><a class="btn" id="light-or-not"><i class="iconfont icon-light"></i> </a><a style="display:none" class="btn" id="up-to-top"><i class="iconfont icon-up"></i></a></div><div id="nav-bar" style="display:none"><div class="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E6%8D%A2"><span class="toc-number">2.</span> <span class="toc-text">变换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B1%82%EF%BC%9A%E4%BB%A5%E4%B8%8B%E6%89%80%E6%9C%89%E6%93%8D%E4%BD%9C%E7%9A%842D%E3%80%813D%E7%9F%A9%E9%98%B5"><span class="toc-number">2.0.1.</span> <span class="toc-text">求：以下所有操作的2D、3D矩阵</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%89%E6%A0%85%E5%8C%96%EF%BC%88Rasterization%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">光栅化（Rasterization）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9D%80%E8%89%B2%EF%BC%88Shading%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">着色（Shading）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%B4%E5%9B%BE%EF%BC%88Texture-Mapping%EF%BC%89"><span class="toc-number">4.1.</span> <span class="toc-text">贴图（Texture Mapping）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%A0%E4%BD%95"><span class="toc-number">5.</span> <span class="toc-text">几何</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA"><span class="toc-number">6.</span> <span class="toc-text">光线追踪</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%90%E8%B4%A8%E4%B8%8E%E5%A4%96%E8%A7%82"><span class="toc-number">7.</span> <span class="toc-text">材质与外观</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%9D%E5%A4%96"><span class="toc-number">8.</span> <span class="toc-text">额外</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1"><span class="toc-number">9.</span> <span class="toc-text">任务</span></a></li></div></div><main id="content-main" class="section"><div class="list-item"><h1 class="post-title"><a id="Css中的变换" class="article-link" href="">Css中的变换</a></h1><div class="post-meta"><time class="meta published">Jan 31, 2021</time></div><div class="article"><div class="post-excerpt markdown-body"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近换了组，转到了渲染引擎那边，虽然作为前端的组，相对做游戏的要简单很多，但是还是要涉及到2D的一些基础知识，所以要抽空学习图形学的知识，顺便理解一下Css的一些属性，在技术上是如何实现的。</p><p>学习思路：Why、What、How</p><h2 id="变换"><a href="#变换" class="headerlink" title="变换"></a>变换</h2><h4 id="求：以下所有操作的2D、3D矩阵"><a href="#求：以下所有操作的2D、3D矩阵" class="headerlink" title="求：以下所有操作的2D、3D矩阵"></a>求：以下所有操作的2D、3D矩阵</h4><p>transition</p><ul><li>scale</li><li>rotate</li><li>transfrom</li><li>sheard</li></ul><h2 id="光栅化（Rasterization）"><a href="#光栅化（Rasterization）" class="headerlink" title="光栅化（Rasterization）"></a>光栅化（Rasterization）</h2><p>几何图形投影到屏幕坐标</p><ul><li>为什么会有摩尔纹（频率）</li><li>如何解决锯齿：先模糊，再采样（MSAA）<ul><li>其它：fxaa、taa（从上一帧找信息）、dlss（机器学习）</li></ul></li></ul><p>灵感：如何利用上一帧的内容，是否可以只算一半</p><h2 id="着色（Shading）"><a href="#着色（Shading）" class="headerlink" title="着色（Shading）"></a>着色（Shading）</h2><ul><li>Z-buffer</li><li>高光、漫反射，平行光（环境）：布林-冯模型</li><li>计算法线，插值（加权周围的法线，更加面积）</li><li>管线：图形 -&gt; 三角化处理 -&gt; 光栅化 -&gt; 着色</li><li>GLSL</li></ul><h3 id="贴图（Texture-Mapping）"><a href="#贴图（Texture-Mapping）" class="headerlink" title="贴图（Texture Mapping）"></a>贴图（Texture Mapping）</h3><ul><li>贴图（uv贴图）</li><li>插值：双向性（Bilinear）插值、Bicubic（双三次插值，更高的采样）</li><li>MipMap（同长宽比预计算、仅多1/3的空间）、各向异性过滤（不同长宽比预计算）</li></ul><h2 id="几何"><a href="#几何" class="headerlink" title="几何"></a>几何</h2><ul><li>凹凸（环境光）：法相贴图、位移贴图、动态曲面区分（directX）</li><li>表示方法：隐式、显式、逻辑运算（交、并、减、距离函数融合）（各种流体？）、自分型</li><li>点云，贝塞尔曲线、样条曲线</li><li>网格细分（Loop、Catmull-Clark）、减少、常规化</li><li>Shadow Mapping（硬阴影，软阴影）</li></ul><h2 id="光线追踪"><a href="#光线追踪" class="headerlink" title="光线追踪"></a>光线追踪</h2><ul><li>AABB 包围盒求交</li><li>空间划分：<ul><li>Oct-Tree（八叉树），类比二叉树</li><li>BSP-Tree：以某个角度砍一刀（可能会不好计算）</li><li>KD-Tree（沿某个切面按竖直水平（依次）方向砍一刀）<ul><li>在查找时，可以以类二分查找的方法</li><li>但是难以判断包围盒怎么和三角形是否有交集</li></ul></li><li>BVH：划分的不是空间，而是物体<ul><li>包围盒可能相交</li><li>划分画法：「中间」的那个物体 的 「最长轴」</li></ul></li></ul></li><li>辐射度量学<ul><li>flux</li><li>intensity：发散</li><li>irradiance：接受</li><li>radiance：传播中</li></ul></li><li>BRDF：双向反射分布函数（决定材质）、渲染方程</li><li>光栅化是特殊的光线最终。光线追踪泰勒展开后，0次为直接光照，1此为简洁光照，后续的多次构成了全局光照，光栅化某种程度也是光线追踪的（0 + 1）</li><li>PDF：概率，密度函数（积分为1）、蒙特卡洛积分</li><li>伽马校正</li></ul><h2 id="材质与外观"><a href="#材质与外观" class="headerlink" title="材质与外观"></a>材质与外观</h2><ul><li><p>反射率、折射、微表面、各向同/异性</p></li><li><p>光线传播路径：</p><ul><li>蒙特卡洛估计：无偏、有偏；双向路径追踪、BTPT</li><li>MLT（马尔科夫链）：通过其中一个样本，在周围生成更多相似路径</li><li>光子映射（有偏）</li><li>VCM（集合双线 + 光子追踪）、IR（实时幅度）：噪声、模糊折中</li></ul></li><li><p>外观建模</p><ul><li><p>：非表面建模（头发、沙子），表面建模（玻璃等）</p><ul><li>散射介质（云、雾等）</li><li>噪声函数（用时生成），更真实</li></ul></li></ul></li></ul><h2 id="额外"><a href="#额外" class="headerlink" title="额外"></a>额外</h2><ul><li>相机、棱镜、光巢；小孔成像<ul><li>曝光（光圈；越大远景越模糊、快门：越慢越模糊、反光度：越大越离散）；</li></ul></li><li>颜色：全光函数（七维函数）、广场（两空间点）</li><li>动画<ul><li>弹簧系统，有限元分析，粒子系统</li><li>正向运动学，逆向运动学</li><li>梯度下降、动作捕捉</li></ul></li></ul><h2 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h2><ul><li>画一个迷宫</li></ul></div></div></div><div class="more section"><div class="pre"><a class="article-link" href="/qinghai travel.html"><i class="iconfont icon-right"></i> <span>苦行青海</span></a></div><div class="next"><a class="article-link" href="/2020_sim_and_normal.html">2020 普通人，平常事 <i class="iconfont icon-right"></i></a></div></div></main></body><footer class="section fullscreen"><div class="footer-desc">Edeity © 2015-2022 · powered by hexo</div></footer><script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script><script src="/public/js/init.js"></script></html>